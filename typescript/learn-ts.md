## 타입스크립트와 자바스크립트의 관계 이해하기

```bash
function greet(who: string) {
	console.log('hello', who);
}
```

- JS를 구동하는 node 같은 프로그램으로 앞의 코드를 실행하면 오류를 출력한다.
- 타입 시스템의 목표 중 하나는 런타임에 오류를 발생시킬 코드를 미리 찾아내는 것  
  → 타입스크립트가 정적 타입 시스템이라는 것은 이런 특징을 말하는 것이다.
- 타입스크립트는 자바스크립트의 상위집합이다.  
  → 모든 JS는 이미 TS임
- TS는 JS 런타임 동작을 모델링하는 타입 시스템을 갖고 있어서 런타임 오류를 발생시키는 코드를 찾아내려 한다.  
  → 모든 오류를 찾아낼거라 기대는 x
- 타입스크립트 문법의 엄격함은 온전히 취향 차이이며 우열을 가릴 수 없다.

## 컴파일러

- 코드 작성 → 컴파일러를 통해 파싱하여 abstract syntax tree(AST)로 변환 → bytecode로 변환 → 런타임을 통해 바이트코드 입력해 평가하고 결과 얻음
- 과정
  1. 프로그램이 AST로 파싱된다.
  2. AST가 바이트코드로 컴파일된다.
  3. 런타임이 바이트코드를 평가한다.
- 타입스크립트는 컴파일러가 코드를 바이트코드 대신 JS 코드로 변환한다.
- TS 컴파일러는 AST를 만들어 결과 코드를 내놓기 전에 타입 확인을 거친다.
- 보통 JS 컴파일러와 런타임은 엔진이라는 하나의 프로그램으로 합쳐진다. ex) 크롬 v8

## 타입 시스템

- 타입 검사기가 프로그램에 타입을 할당하는 데 사용하는 규칙 집합
  - 명시적으로 알려주는 타입 시스템
  - 자동으로 타입 추론하는 타입 시스템
- TS가 타입을 추론하도록 두는 것이 코드를 줄일 수 있는 방법이므로 보통 어노테이션은 생략
- TS는 점진적으로 타입을 확인하는 (gradually typed)언어이다.
- 타입을 변환할 때는 명시적으로 해야한다.

| 타입 시스템 기능            | JS             | TS                  |
| --------------------------- | -------------- | ------------------- |
| 타입 결정 방식              | 동적           | 정적                |
| 타입이 자동으로 변환되는가? | O              | X(대부분)           |
| 언제 타입을 확인하는가?     | 런타임         | 컴파일              |
| 언제 에러를 검출하는가?     | 런타임(대부분) | 컴파일 타임(대부분) |

## 코드 편집기 설정

- 모든 타입스크립트 프로젝트는 루트 디렉터리에 tsconfig.json이라는 파일이 존재해야 한다.

```json
{
	"compilerOptions": {
		"lib": ["es2015"].
		"module": "commonjs",
		"outDir": "dist",
		"sourceMap": true,
		"strict": true,
		"target": "es2015"
	},
	"include" : [
		"src"
	]
}
```

| 옵션    | 설명                                                                                                                                           |
| ------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| include | TSC가 타입스크립트 파일을 찾을 디렉터리                                                                                                        |
| lib     | TSC가 코드 실행 환경에서 이용할 수 있다고 가정하는 API(ES5의 Function.prototype.bind, ES2015의 Object.assign, DOM의 document.querySelector 등) |
| module  | TSC가 코드를 컴파일할 대상 모듈 시스템(CommonJS, SysyemJS, ES2015 등)                                                                          |
| outDir  | 생성된 자바스크립트 코드를 출력할 디렉터리                                                                                                     |
| strict  | 유효하지 않은 코드를 확이할 때 가능한 엄격하게 검사. 이 옵션을 이용하면 코드가 적절하게 타입을 갖추도록 강제할 수 있음                         |
| target  | TSC가 코드를 컴파일할 자바스크립트 버전(ES3, ES5, ES2015, ES2016 등)                                                                           |

- tslint.json: TSLint 설정을 정의하는 파일
  - 기본값으로 채워진 tslint.json 파일 만드는 명령어
    ```bash
    .node_modules/.bin/tslint -init
    ```
